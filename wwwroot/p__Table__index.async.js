(self.webpackChunk=self.webpackChunk||[]).push([[311],{14271:function(G,$,l){"use strict";l.r($),l.d($,{default:function(){return be}});var k={};l.r(k),l.d(k,{addUser:function(){return ee},deleteUser:function(){return ne},getUserDetail:function(){return re},modifyUser:function(){return se},queryUserList:function(){return _}});var F=l(46686),g=l.n(F),C=l(35290),s=l.n(C),X=l(30279),f=l.n(X),q=l(411),p=l.n(q),E=l(57318);function _(i,e){return B.apply(this,arguments)}function B(){return B=p()(s()().mark(function i(e,a){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,E.request)("/api/v1/queryUserList",f()({method:"GET",params:f()({},e)},a||{})));case 1:case"end":return u.stop()}},i)})),B.apply(this,arguments)}function ee(i,e){return R.apply(this,arguments)}function R(){return R=p()(s()().mark(function i(e,a){return s()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,E.request)("/api/v1/user",f()({method:"POST",headers:{"Content-Type":"application/json"},data:e},a||{})));case 1:case"end":return u.stop()}},i)})),R.apply(this,arguments)}function re(i,e){return L.apply(this,arguments)}function L(){return L=p()(s()().mark(function i(e,a){var t;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userId,r.abrupt("return",(0,E.request)("/api/v1/user/".concat(t),f()({method:"GET",params:f()({},e)},a||{})));case 2:case"end":return r.stop()}},i)})),L.apply(this,arguments)}function se(i,e,a){return V.apply(this,arguments)}function V(){return V=p()(s()().mark(function i(e,a,t){var u;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return u=e.userId,d.abrupt("return",(0,E.request)("/api/v1/user/".concat(u),f()({method:"PUT",headers:{"Content-Type":"application/json"},params:f()({},e),data:a},t||{})));case 2:case"end":return d.stop()}},i)})),V.apply(this,arguments)}function ne(i,e){return Z.apply(this,arguments)}function Z(){return Z=p()(s()().mark(function i(e,a){var t;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=e.userId,r.abrupt("return",(0,E.request)("/api/v1/user/".concat(t),f()({method:"DELETE",params:f()({},e)},a||{})));case 2:case"end":return r.stop()}},i)})),Z.apply(this,arguments)}var ae={UserController:k},j=l(6757),b=l(64924),te=l(1063),D=l(94071),ue=l(48124),U=l(93236),J=l(61177),n=l(62086),le=function(e){var a=e.modalVisible,t=e.onCancel;return(0,n.jsx)(J.Z,{destroyOnClose:!0,title:"\u65B0\u5EFA",width:420,visible:a,onCancel:function(){return t()},footer:null,children:e.children})},ie=le,de=function(e){return(0,n.jsxs)(j.L05,{stepsProps:{size:"small"},stepsFormRender:function(t,u){return(0,n.jsx)(J.Z,{width:640,bodyStyle:{padding:"32px 40px 48px"},destroyOnClose:!0,title:"\u89C4\u5219\u914D\u7F6E",visible:e.updateModalVisible,footer:u,onCancel:function(){return e.onCancel()},children:t})},onFinish:e.onSubmit,children:[(0,n.jsxs)(j.L05.StepForm,{initialValues:{name:e.values.name,nickName:e.values.nickName},title:"\u57FA\u672C\u4FE1\u606F",children:[(0,n.jsx)(j.VaQ,{width:"md",name:"name",label:"\u89C4\u5219\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0\uFF01"}]}),(0,n.jsx)(j.$JJ,{name:"desc",width:"md",label:"\u89C4\u5219\u63CF\u8FF0",placeholder:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u81F3\u5C11\u4E94\u4E2A\u5B57\u7B26\u7684\u89C4\u5219\u63CF\u8FF0\uFF01",min:5}]})]}),(0,n.jsxs)(j.L05.StepForm,{initialValues:{target:"0",template:"0"},title:"\u914D\u7F6E\u89C4\u5219\u5C5E\u6027",children:[(0,n.jsx)(j._IT,{width:"md",name:"target",label:"\u76D1\u63A7\u5BF9\u8C61",valueEnum:{0:"\u8868\u4E00",1:"\u8868\u4E8C"}}),(0,n.jsx)(j._IT,{width:"md",name:"template",label:"\u89C4\u5219\u6A21\u677F",valueEnum:{0:"\u89C4\u5219\u6A21\u677F\u4E00",1:"\u89C4\u5219\u6A21\u677F\u4E8C"}}),(0,n.jsx)(j.$Oj.Group,{name:"type",width:"md",label:"\u89C4\u5219\u7C7B\u578B",options:[{value:"0",label:"\u5F3A"},{value:"1",label:"\u5F31"}]})]}),(0,n.jsxs)(j.L05.StepForm,{initialValues:{type:"1",frequency:"month"},title:"\u8BBE\u5B9A\u8C03\u5EA6\u5468\u671F",children:[(0,n.jsx)(j.Gal,{name:"time",label:"\u5F00\u59CB\u65F6\u95F4",rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u5F00\u59CB\u65F6\u95F4\uFF01"}]}),(0,n.jsx)(j._IT,{name:"frequency",label:"\u76D1\u63A7\u5BF9\u8C61",width:"xs",valueEnum:{month:"\u6708",week:"\u5468"}})]})]})},ce=de,T=ae.UserController,oe=T.addUser,je=T.queryUserList,me=T.deleteUser,he=T.modifyUser,pe=function(){var i=p()(s()().mark(function e(a){var t;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=b.ZP.loading("\u6B63\u5728\u6DFB\u52A0"),r.prev=1,r.next=4,oe(f()({},a));case 4:return t(),b.ZP.success("\u6DFB\u52A0\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),t(),b.ZP.error("\u6DFB\u52A0\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},e,null,[[1,9]])}));return function(a){return i.apply(this,arguments)}}(),fe=function(){var i=p()(s()().mark(function e(a){var t;return s()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return t=b.ZP.loading("\u6B63\u5728\u914D\u7F6E"),r.prev=1,r.next=4,he({userId:a.id||""},{name:a.name||"",nickName:a.nickName||"",email:a.email||""});case 4:return t(),b.ZP.success("\u914D\u7F6E\u6210\u529F"),r.abrupt("return",!0);case 9:return r.prev=9,r.t0=r.catch(1),t(),b.ZP.error("\u914D\u7F6E\u5931\u8D25\u8BF7\u91CD\u8BD5\uFF01"),r.abrupt("return",!1);case 14:case"end":return r.stop()}},e,null,[[1,9]])}));return function(a){return i.apply(this,arguments)}}(),ve=function(){var i=p()(s()().mark(function e(a){var t,u;return s()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(t=b.ZP.loading("\u6B63\u5728\u5220\u9664"),a){d.next=3;break}return d.abrupt("return",!0);case 3:return d.prev=3,d.next=6,me({userId:((u=a.find(function(I){return I.id}))===null||u===void 0?void 0:u.id)||""});case 6:return t(),b.ZP.success("\u5220\u9664\u6210\u529F\uFF0C\u5373\u5C06\u5237\u65B0"),d.abrupt("return",!0);case 11:return d.prev=11,d.t0=d.catch(3),t(),b.ZP.error("\u5220\u9664\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5"),d.abrupt("return",!1);case 16:case"end":return d.stop()}},e,null,[[3,11]])}));return function(a){return i.apply(this,arguments)}}(),ye=function(){var e=(0,U.useState)(!1),a=g()(e,2),t=a[0],u=a[1],r=(0,U.useState)(!1),d=g()(r,2),I=d[0],P=d[1],ge=(0,U.useState)({}),K=g()(ge,2),O=K[0],M=K[1],x=(0,U.useRef)(),Ce=(0,U.useState)(),Q=g()(Ce,2),v=Q[0],we=Q[1],ke=(0,U.useState)([]),W=g()(ke,2),z=W[0],Y=W[1],N=[{title:"\u540D\u79F0",dataIndex:"name",tip:"\u540D\u79F0\u662F\u552F\u4E00\u7684 key",formItemProps:{rules:[{required:!0,message:"\u540D\u79F0\u4E3A\u5FC5\u586B\u9879"}]}},{title:"\u6635\u79F0",dataIndex:"nickName",valueType:"text"},{title:"\u6027\u522B",dataIndex:"gender",hideInForm:!0,valueEnum:{0:{text:"\u7537",status:"MALE"},1:{text:"\u5973",status:"FEMALE"}}},{title:"\u64CD\u4F5C",dataIndex:"option",valueType:"option",render:function(o,c){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("a",{onClick:function(){P(!0),M(c)},children:"\u914D\u7F6E"}),(0,n.jsx)(te.Z,{type:"vertical"}),(0,n.jsx)("a",{href:"",children:"\u8BA2\u9605\u8B66\u62A5"})]})}}];return(0,n.jsxs)(j._zJ,{header:{title:"CRUD \u793A\u4F8B"},children:[(0,n.jsx)(j.QVr,{headerTitle:"\u67E5\u8BE2\u8868\u683C",actionRef:x,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[(0,n.jsx)(D.Z,{type:"primary",onClick:function(){return u(!0)},children:"\u65B0\u5EFA"},"1")]},request:function(){var m=p()(s()().mark(function o(c,y,w){var h,A,H;return s()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,je(f()(f()({},c),{},{sorter:y,filter:w}));case 2:return h=S.sent,A=h.data,H=h.success,S.abrupt("return",{data:(A==null?void 0:A.list)||[],success:H});case 6:case"end":return S.stop()}},o)}));return function(o,c,y){return m.apply(this,arguments)}}(),columns:N,rowSelection:{onChange:function(o,c){return Y(c)}}}),(z==null?void 0:z.length)>0&&(0,n.jsxs)(j.Scc,{extra:(0,n.jsxs)("div",{children:["\u5DF2\u9009\u62E9"," ",(0,n.jsx)("a",{style:{fontWeight:600},children:z.length})," ","\u9879\xA0\xA0"]}),children:[(0,n.jsx)(D.Z,{onClick:p()(s()().mark(function m(){var o,c;return s()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,ve(z);case 2:Y([]),(o=x.current)===null||o===void 0||(c=o.reloadAndRest)===null||c===void 0||c.call(o);case 4:case"end":return w.stop()}},m)})),children:"\u6279\u91CF\u5220\u9664"}),(0,n.jsx)(D.Z,{type:"primary",children:"\u6279\u91CF\u5BA1\u6279"})]}),(0,n.jsx)(ie,{onCancel:function(){return u(!1)},modalVisible:t,children:(0,n.jsx)(j.QVr,{onSubmit:function(){var m=p()(s()().mark(function o(c){var y;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,pe(c);case 2:y=h.sent,y&&(u(!1),x.current&&x.current.reload());case 4:case"end":return h.stop()}},o)}));return function(o){return m.apply(this,arguments)}}(),rowKey:"id",type:"form",columns:N})}),O&&Object.keys(O).length?(0,n.jsx)(ce,{onSubmit:function(){var m=p()(s()().mark(function o(c){var y;return s()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,fe(c);case 2:y=h.sent,y&&(P(!1),M({}),x.current&&x.current.reload());case 4:case"end":return h.stop()}},o)}));return function(o){return m.apply(this,arguments)}}(),onCancel:function(){P(!1),M({})},updateModalVisible:I,values:O}):null,(0,n.jsx)(ue.Z,{width:600,visible:!!v,onClose:function(){we(void 0)},closable:!1,children:(v==null?void 0:v.name)&&(0,n.jsx)(j.vYc,{column:2,title:v==null?void 0:v.name,request:p()(s()().mark(function m(){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",{data:v||{}});case 1:case"end":return c.stop()}},m)})),params:{id:v==null?void 0:v.name},columns:N})})]})},be=ye},38660:function(G,$,l){var k={"./af":28163,"./af.js":28163,"./ar":70096,"./ar-dz":50005,"./ar-dz.js":50005,"./ar-kw":16042,"./ar-kw.js":16042,"./ar-ly":43183,"./ar-ly.js":43183,"./ar-ma":35656,"./ar-ma.js":35656,"./ar-sa":32343,"./ar-sa.js":32343,"./ar-tn":23815,"./ar-tn.js":23815,"./ar.js":70096,"./az":62320,"./az.js":62320,"./be":32204,"./be.js":32204,"./bg":94994,"./bg.js":94994,"./bm":85338,"./bm.js":85338,"./bn":85853,"./bn-bd":48735,"./bn-bd.js":48735,"./bn.js":85853,"./bo":44547,"./bo.js":44547,"./br":29491,"./br.js":29491,"./bs":33046,"./bs.js":33046,"./ca":20568,"./ca.js":20568,"./cs":46889,"./cs.js":46889,"./cv":7267,"./cv.js":7267,"./cy":24362,"./cy.js":24362,"./da":34133,"./da.js":34133,"./de":44268,"./de-at":28288,"./de-at.js":28288,"./de-ch":42916,"./de-ch.js":42916,"./de.js":44268,"./dv":39938,"./dv.js":39938,"./el":51336,"./el.js":51336,"./en-au":62902,"./en-au.js":62902,"./en-ca":70270,"./en-ca.js":70270,"./en-gb":48554,"./en-gb.js":48554,"./en-ie":13044,"./en-ie.js":13044,"./en-il":71910,"./en-il.js":71910,"./en-in":1697,"./en-in.js":1697,"./en-nz":48158,"./en-nz.js":48158,"./en-sg":88683,"./en-sg.js":88683,"./eo":61190,"./eo.js":61190,"./es":19327,"./es-do":46495,"./es-do.js":46495,"./es-mx":97130,"./es-mx.js":97130,"./es-us":63738,"./es-us.js":63738,"./es.js":19327,"./et":19477,"./et.js":19477,"./eu":1817,"./eu.js":1817,"./fa":77570,"./fa.js":77570,"./fi":51753,"./fi.js":51753,"./fil":39975,"./fil.js":39975,"./fo":10756,"./fo.js":10756,"./fr":79876,"./fr-ca":32951,"./fr-ca.js":32951,"./fr-ch":43803,"./fr-ch.js":43803,"./fr.js":79876,"./fy":53470,"./fy.js":53470,"./ga":31347,"./ga.js":31347,"./gd":72624,"./gd.js":72624,"./gl":93758,"./gl.js":93758,"./gom-deva":22327,"./gom-deva.js":22327,"./gom-latn":97089,"./gom-latn.js":97089,"./gu":60929,"./gu.js":60929,"./he":4438,"./he.js":4438,"./hi":57746,"./hi.js":57746,"./hr":85893,"./hr.js":85893,"./hu":55169,"./hu.js":55169,"./hy-am":60394,"./hy-am.js":60394,"./id":34171,"./id.js":34171,"./is":28435,"./is.js":28435,"./it":22412,"./it-ch":33640,"./it-ch.js":33640,"./it.js":22412,"./ja":76261,"./ja.js":76261,"./jv":2826,"./jv.js":2826,"./ka":9887,"./ka.js":9887,"./kk":16262,"./kk.js":16262,"./km":95730,"./km.js":95730,"./kn":55773,"./kn.js":55773,"./ko":91206,"./ko.js":91206,"./ku":20571,"./ku.js":20571,"./ky":67971,"./ky.js":67971,"./lb":75817,"./lb.js":75817,"./lo":93863,"./lo.js":93863,"./lt":20610,"./lt.js":20610,"./lv":55147,"./lv.js":55147,"./me":53827,"./me.js":53827,"./mi":90358,"./mi.js":90358,"./mk":88489,"./mk.js":88489,"./ml":72930,"./ml.js":72930,"./mn":97248,"./mn.js":97248,"./mr":98619,"./mr.js":98619,"./ms":98583,"./ms-my":30810,"./ms-my.js":30810,"./ms.js":98583,"./mt":53425,"./mt.js":53425,"./my":72319,"./my.js":72319,"./nb":37866,"./nb.js":37866,"./ne":57630,"./ne.js":57630,"./nl":96940,"./nl-be":34037,"./nl-be.js":34037,"./nl.js":96940,"./nn":34411,"./nn.js":34411,"./oc-lnc":21584,"./oc-lnc.js":21584,"./pa-in":24633,"./pa-in.js":24633,"./pl":54390,"./pl.js":54390,"./pt":95040,"./pt-br":54013,"./pt-br.js":54013,"./pt.js":95040,"./ro":12338,"./ro.js":12338,"./ru":9874,"./ru.js":9874,"./sd":34992,"./sd.js":34992,"./se":28076,"./se.js":28076,"./si":22737,"./si.js":22737,"./sk":83699,"./sk.js":83699,"./sl":44565,"./sl.js":44565,"./sq":35255,"./sq.js":35255,"./sr":95098,"./sr-cyrl":3830,"./sr-cyrl.js":3830,"./sr.js":95098,"./ss":19587,"./ss.js":19587,"./sv":34285,"./sv.js":34285,"./sw":13065,"./sw.js":13065,"./ta":52703,"./ta.js":52703,"./te":90618,"./te.js":90618,"./tet":19035,"./tet.js":19035,"./tg":45334,"./tg.js":45334,"./th":41853,"./th.js":41853,"./tk":37250,"./tk.js":37250,"./tl-ph":50704,"./tl-ph.js":50704,"./tlh":1866,"./tlh.js":1866,"./tr":81299,"./tr.js":81299,"./tzl":35885,"./tzl.js":35885,"./tzm":21370,"./tzm-latn":11878,"./tzm-latn.js":11878,"./tzm.js":21370,"./ug-cn":95521,"./ug-cn.js":95521,"./uk":63646,"./uk.js":63646,"./ur":16237,"./ur.js":16237,"./uz":90519,"./uz-latn":23225,"./uz-latn.js":23225,"./uz.js":90519,"./vi":31153,"./vi.js":31153,"./x-pseudo":77210,"./x-pseudo.js":77210,"./yo":13086,"./yo.js":13086,"./zh-cn":53933,"./zh-cn.js":53933,"./zh-hk":45749,"./zh-hk.js":45749,"./zh-mo":51044,"./zh-mo.js":51044,"./zh-tw":13759,"./zh-tw.js":13759};function F(C){var s=g(C);return l(s)}function g(C){if(!l.o(k,C)){var s=new Error("Cannot find module '"+C+"'");throw s.code="MODULE_NOT_FOUND",s}return k[C]}F.keys=function(){return Object.keys(k)},F.resolve=g,G.exports=F,F.id=38660}}]);
